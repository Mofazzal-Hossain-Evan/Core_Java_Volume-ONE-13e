
# ЁЯза `modernList.add(modern);` рж▓рж╛ржЗржиржЯрж┐ ржХрзЗржи ржжрж░ржХрж╛рж░ ржУ ржХрзАржнрж╛ржмрзЗ ржХрж╛ржЬ ржХрж░рзЗ

## ЁЯФН ржкрзНрж░рзЗржХрзНрж╖рж╛ржкржЯ

Legacy system ржерзЗржХрзЗ ржЖржорж░рж╛ ржЕржирзЗржХ рж╕ржорзЯ **raw, untyped ArrayList** ржкрж╛ржЗ, ржпрзЗржЦрж╛ржирзЗ ржЕржирзЗржХ рж╕ржорзЯ ржнрзБрж▓ ржмрж╛ invalid ржбрзЗржЯрж╛ржУ ржерж╛ржХрждрзЗ ржкрж╛рж░рзЗред ржЖржорж╛ржжрзЗрж░ ржХрж╛ржЬ рж╣рж▓рзЛ рж╕рзЗржЗ рждрж╛рж▓рж┐ржХрж╛ржХрзЗ ржПржХржЯрж┐ **safe, typed list**-ржП рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ред

---

## ЁЯУМ рж╕ржВрж╢рзНрж▓рж┐рж╖рзНржЯ ржХрзЛржб

```java
LegacyCourse legacy = (LegacyCourse) obj;
ModernCourse modern = new ModernCourse(legacy.getCourseName(), legacy.getCredits());
modernList.add(modern);
```

---

## ЁЯз▒ `modernList.add(modern);` ржПрж░ ржЙржжрзНржжрзЗрж╢рзНржп

ржПржЗ рж▓рж╛ржЗржиржЯрж┐ ржПржХржЯрж┐ ржирждрзБржиржнрж╛ржмрзЗ рждрзИрж░рж┐ ржУ ржпрж╛ржЪрж╛ржЗржХрзГржд `ModernCourse` ржЕржмржЬрзЗржХрзНржЯржХрзЗ **ржПржХржЯрж┐ ржЯрж╛ржЗржк-рж╕рзЗржЗржл ArrayList**-ржП ржпрзБржХрзНржд ржХрж░рзЗред

- тЬЕ рж╢рзБржзрзБ рж╕ржарж┐ржХ ржУ ржкрж░рж┐ржкрж╛ржЯрж┐ ржбрзЗржЯрж╛ржЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗ
- тЬЕ invalid ржмрж╛ corrupted ржПржирзНржЯрзНрж░рж┐ ржмрж╛ржж ржжрзЗрзЯ
- тЬЕ Legacy ржХрзЛржбрзЗрж░ рж╕рж╛ржерзЗ compatibility ржмржЬрж╛рзЯ рж░рж╛ржЦрзЗ

---

## ЁЯФБ ржбрзЗржЯрж╛ рж░рзВржкрж╛ржирзНрждрж░ ржлрзНрж▓рзЛ

![рж░рзВржкрж╛ржирзНрждрж░ ржбрж╛рзЯрж╛ржЧрзНрж░рж╛ржо](legacy_to_modern_conversion_diagram.png)

### ржзрж╛ржкрж╕ржорзВрж╣:

1. **Raw legacy list** ржПрж░ ржкрзНрж░рждрж┐ржЯрж┐ ржЕржмржЬрзЗржХрзНржЯ рж▓рзБржк ржХрж░рзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣рзЯ
2. `instanceof LegacyCourse` ржжрж┐рзЯрзЗ ржпрж╛ржЪрж╛ржЗ ржХрж░рж╛ рж╣рзЯ
3. ржпржжрж┐ valid рж╣рзЯ:
   - `ModernCourse` ржЕржмржЬрзЗржХрзНржЯрзЗ рж░рзВржкрж╛ржирзНрждрж░ ржХрж░рж╛ рж╣рзЯ
   - `modernList` ржП ржпрзЛржЧ ржХрж░рж╛ рж╣рзЯ
4. ржпржжрж┐ invalid рж╣рзЯ:
   - Warning ржжрзЗржЦрж╛рзЯ ржмрж╛ ржПржирзНржЯрзНрж░рж┐ рж╕рзНржХрж┐ржк ржХрж░рзЗ

---

## тЬЕ ржлрж▓рж╛ржлрж▓

ржПржХржЯрж┐ ржкрж░рж┐рж╖рзНржХрж╛рж░ ржУ type-safe `ArrayList<ModernCourse>` ржпрж╛ modern application-ржП ржирж┐рж░рж╛ржкржжрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред
