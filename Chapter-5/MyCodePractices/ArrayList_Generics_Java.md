
# тЬЕ 5.3.2 Accessing ArrayList Elements - ржорзВрж▓ ржкрзЯрзЗржирзНржЯрж╕ржорзВрж╣

---

## ЁЯУМ ArrayList тЙа Array: ржЕрзНржпрж╛ржХрзНрж╕рзЗрж╕ ржкржжрзНржзрждрж┐рж░ ржкрж╛рж░рзНржержХрзНржп
- `ArrayList` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рждрзЗ рж╣рзЯ `get()` ржУ `set()` ржорзЗржержб ржжрж┐рзЯрзЗред
- рж╕рж░рж╛рж╕рж░рж┐ `a[i] = harry;` ржирзЯ тЖТ рж▓рж┐ржЦрждрзЗ рж╣рзЯ: `staff.set(i, harry);`
- `Employee e = staff.get(i);` тЙб `Employee e = a[i];`

---

## тЪая╕П `set()` ржмрзНржпржмрж╣рж╛рж░рзЗрж░ рж╕рждрж░рзНржХрждрж╛
- `list.set(i, x);` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛рж░ ржЖржЧрзЗ ржирж┐рж╢рзНржЪрж┐ржд рж╣ржУ ржпрзЗ `i` ржЗржиржбрзЗржХрзНрж╕рзЗ ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржХрзЛржирзЛ ржПрж▓рж┐ржорзЗржирзНржЯ ржЖржЫрзЗред
- тЭМ ржнрзБрж▓:
  ```java
  var list = new ArrayList<Employee>(100); // capacity 100, size 0
  list.set(0, x); // ржнрзБрж▓, ржХрж╛рж░ржг ржПржЦржирзЛ ржХрзЛржи ржПрж▓рж┐ржорзЗржирзНржЯ ржирзЗржЗ
  ```
- тЬЕ ржарж┐ржХ:
  ```java
  list.add(x); // add ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржврзЛржХрж╛ржУ
  list.set(i, x); // ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржерж╛ржХрж▓рзЗ replace ржХрж░рзЛ
  ```

---

## ЁЯза Generics ржирж╛ ржерж╛ржХрж▓рзЗ ржХрзА рж╕ржорж╕рзНржпрж╛ рж╣рзЯ?
- Raw `ArrayList` ржП `get()` ржорзЗржержб `Object` рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗред
- рждржЦржи ржХрж░рждрзЗ рж╣рзЯ ржХрзНржпрж╛рж╕рзНржЯ:
  ```java
  Employee e = (Employee) staff.get(i);
  ```
- Raw `ArrayList` ржмрж┐ржкржЬрзНржЬржиржХ:
  ```java
  staff.set(i, "Harry Hacker"); // ржХрзЛржирзЛ ржХржорзНржкрж╛ржЗрж▓ ржЯрж╛ржЗржо ржПрж░рж░ ржжрзЗрзЯ ржирж╛!
  ```

- тЬЕ рж╕ржарж┐ржХ ржкржирзНржерж╛: `ArrayList<Employee>` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ тЖТ ржЯрж╛ржЗржк рж╕рзЗржлржЯрж┐ ржирж┐рж╢рзНржЪрж┐ржд ржХрж░рзЗред

---

## ЁЯзк ArrayList тЖТ Array рж░рзВржкрж╛ржирзНрждрж░ (Best of both worlds)
- ржкрзНрж░ржержорзЗ рж╕ржм `add()` ржХрж░рзЗ `ArrayList`-ржП ржпрзЛржЧ ржХрж░рзЛ:
  ```java
  var list = new ArrayList<X>();
  while (...) {
    list.add(x);
  }
  ```
- рждрж╛рж░ржкрж░ `toArray()` ржжрж┐рзЯрзЗ array ржмрж╛ржирж╛ржУ:
  ```java
  var a = new X[list.size()];
  list.toArray(a);
  ```

---

## тЮХ ржорж╛ржЭржЦрж╛ржирзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржврзЛржХрж╛ржирзЛ
- `add(int index, E element)` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ:
  ```java
  int n = staff.size() / 2;
  staff.add(n, e);
  ```
- `n` ржУ рждрж╛рж░ ржкрж░рзЗрж░ ржПрж▓рж┐ржорзЗржирзНржЯржЧрзБрж▓рзЛ рж╢рж┐ржлржЯ рж╣рзЯрзЗ ржпрж╛ржмрзЗред

---

## тЮЦ ржорж╛ржЭржЦрж╛ржи ржерзЗржХрзЗ ржПрж▓рж┐ржорзЗржирзНржЯ ржорзБржЫрзЗ ржлрзЗрж▓рж╛
- `remove(int index)` ржмрзНржпржмрж╣рж╛рж░ ржХрж░рзЛ:
  ```java
  Employee e = staff.remove(n);
  ```
- `n`-ржПрж░ ржЙржкрж░рзЗрж░ ржПрж▓рж┐ржорзЗржирзНржЯржЧрзБрж▓рзЛ ржирж┐ржЪрзЗ рж╢рж┐ржлржЯ рж╣рзЯ, рж╕рж╛ржЗржЬ рзз ржХржорзЗ ржпрж╛рзЯред

---

## ЁЯРв ржкрж╛рж░ржлрж░ржорзЗржирзНрж╕ ржирзЛржЯрж╕
- ржорж╛ржЭржЦрж╛ржирзЗ ржмрж╛рж░ржмрж╛рж░ `insert` ржмрж╛ `remove` ржХрж░рж▓рзЗ ржкрж╛рж░ржлрж░ржорзЗржирзНрж╕ ржЦрж╛рж░рж╛ржк рж╣рждрзЗ ржкрж╛рж░рзЗред
- ржЕржирзЗржХ ржбрзЗржЯрж╛рж░ ржХрзНрж╖рзЗрждрзНрж░рзЗ тЖТ `LinkedList` ржмрж┐ржмрзЗржЪржирж╛ ржХрж░рж╛ ржЙржЪрж┐рждред

---

## ЁЯФБ Traversal: for-each vs traditional loop
- тЬЕ for-each:
  ```java
  for (Employee e : staff)
      doSomething(e);
  ```
- тЬЕ traditional:
  ```java
  for (int i = 0; i < staff.size(); i++) {
      Employee e = staff.get(i);
      doSomething(e);
  }
  ```

---

## ЁЯзк Listing 5.7 тАУ ArrayListTest.java рж╣рж╛ржЗрж▓рж╛ржЗржЯрж╕
- `Employee[]` ржПрж░ ржмржжрж▓рзЗ `ArrayList<Employee>` ржмрзНржпржмрж╣рж╛рж░ред
- рж╕рзБржмрж┐ржзрж╛ржЧрзБрж▓рзЛ:
  - тЭМ Array size ржЖржЧрзЗржЗ declare ржХрж░рждрзЗ рж╣рзЯ ржирж╛ред
  - тЬЕ `add()` ржжрж┐рзЯрзЗ ржпржд ржЦрзБрж╢рж┐ ржПрж▓рж┐ржорзЗржирзНржЯ ржпрзЛржЧ ржХрж░рж╛ ржпрж╛рзЯред
  - тЬЕ `.size()` ржмрзНржпржмрж╣рж╛рж░ тЖТ `.length` ржирзЯред
  - тЬЕ `get(i)` тЖТ рж╕рж░рж╛рж╕рж░рж┐ `a[i]` ржирзЯред

---

## ЁЯУЪ ArrayList Class API (ржЬрзЗржирзЗ рж░рж╛ржЦрж╛ ржжрж░ржХрж╛рж░):
```java
E set(int index, E obj);     // ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЗржиржбрзЗржХрзНрж╕рзЗ ржорж╛ржи ржмрж╕рж╛рзЯ, ржкрзБрж░рзЛржирзЛ ржорж╛ржи рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ
E get(int index);            // ржЗржиржбрзЗржХрзНрж╕ ржерзЗржХрзЗ ржорж╛ржи рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ
void add(int index, E obj);  // ржирж┐рж░рзНржжрж┐рж╖рзНржЯ ржЗржиржбрзЗржХрзНрж╕рзЗ ржЗржирж╕рж╛рж░рзНржЯ ржХрж░рзЗ
E remove(int index);         // ржЗржиржбрзЗржХрзНрж╕ ржерзЗржХрзЗ ржорзБржЫрзЗ ржлрзЗрж▓рзЗ ржУ ржорж╛ржи рж░рж┐ржЯрж╛рж░рзНржи ржХрж░рзЗ
```

---

# ЁЯза Java Generics Explained (рж╕рж╣ржЬ ржнрж╛рж╖рж╛рзЯ)

## тЬЕ Generics ржХрзА?
Generics рж╣рж▓рзЛ Java-рждрзЗ ржЯрж╛ржЗржк рж╕рзЗржл (type-safe) ржХрзЛржб рж▓рзЗржЦрж╛рж░ ржЙржкрж╛рзЯред ржПрждрзЗ ржХрж░рзЗ рждрзБржорж┐ ржПржХржЯрж╛ ржбрзЗржЯрж╛ ржЯрж╛ржЗржк ржЖржЧрзЗ ржерзЗржХрзЗржЗ ржмрж▓рзЗ ржжрж┐рждрзЗ ржкрж╛рж░рзЛ, ржпрж╛рждрзЗ рж░рж╛ржиржЯрж╛ржЗржо-ржП ржЯрж╛ржЗржк рж╕ржВржХрзНрж░рж╛ржирзНржд ржЭрж╛ржорзЗрж▓рж╛ ржирж╛ рж╣рзЯред

**ржЙржжрж╛рж╣рж░ржг**:
```java
ArrayList<Employee> staff = new ArrayList<>();
```

ржПржЦрж╛ржирзЗ `<Employee>` ржмрж▓рзЗ ржжрж┐ржЪрзНржЫрзЗ: ржПржЗ `ArrayList` рж╢рзБржзрзБржорж╛рждрзНрж░ `Employee` ржЕржмржЬрзЗржХрзНржЯ рж░рж╛ржЦржмрзЗред

---

## ЁЯзи Generics ржирж╛ ржерж╛ржХрж▓рзЗ ржХрзА рж╣рждрзЛ? (Raw Type)
```java
ArrayList staff = new ArrayList(); // тЭМ ржХрзЛржирзЛ ржЯрж╛ржЗржк ржирж┐рж░рзНржзрж╛рж░ржг ржирзЗржЗ
staff.add("Hello");                // ржЪрж▓рзЗ ржпрж╛ржмрзЗ!
Employee e = (Employee) staff.get(0); // тЭЧя╕ПRuntime error!
```

## ЁЯЫбя╕П Generics ржПрж░ рж╕рзБржмрж┐ржзрж╛
1. **Type Safety** тАУ ржнрзБрж▓ ржЯрж╛ржЗржк ржЗржиржкрзБржЯ ржжрж┐рж▓рзЗ ржХржорзНржкрж╛ржЗрж▓ ржЯрж╛ржЗржорзЗржЗ ржзрж░рж╛ ржкрзЬрзЗред
2. **No Need for Casting** тАУ `get()` ржХрж░рж▓рзЗ ржЖрж░ ржХрж╛рж╕рзНржЯ ржХрж░рждрзЗ рж╣рзЯ ржирж╛ред
3. **Code Reusability** тАУ ржПржХржмрж╛рж░ generic ржХрзНрж▓рж╛рж╕ рж▓рж┐ржЦрзЗ ржпрзЗржХрзЛржирзЛ ржЯрж╛ржЗржкрзЗ ржмрзНржпржмрж╣рж╛рж░ ржХрж░рж╛ ржпрж╛рзЯред

---

## ЁЯУШ Generic Class Example:
```java
public class Box<T> {
    private T item;

    public void set(T item) { this.item = item; }
    public T get() { return item; }
}
```

**ржмрзНржпржмрж╣рж╛рж░:**
```java
Box<String> stringBox = new Box<>();
stringBox.set("Dino Egg");
String value = stringBox.get(); // No casting!
```

---

## тЮХ ржЕрждрж┐рж░рж┐ржХрзНржд ржкрзЯрзЗржирзНржЯ: ArrayList Capacity vs Size

- **Capacity**: ржЕржнрзНржпржирзНрждрж░рзАржг ржЕрзНржпрж╛рж░рзЗ ржХрждржЧрзБрж▓рзЛ ржПрж▓рж┐ржорзЗржирзНржЯ рж░рж╛ржЦрж╛рж░ ржорждрзЛ ржЬрж╛рзЯржЧрж╛ рж░рж┐ржЬрж╛рж░рзНржн ржХрж░рзЗ рж░рзЗржЦрзЗржЫрзЗред
- **Size**: ржмрж╛рж╕рзНрждржмрж┐ржХржнрж╛ржмрзЗ ржХрждржЧрзБрж▓рзЛ ржПрж▓рж┐ржорзЗржирзНржЯ ржмрж░рзНрждржорж╛ржирзЗ рж░рж╛ржЦрж╛ ржЖржЫрзЗред

**ржЙржжрж╛рж╣рж░ржг**:
```java
ArrayList<Employee> list = new ArrayList<>(100); // capacity 100
System.out.println(list.size()); // output: 0
```

тЮбя╕П рждрзБржорж┐ `set(0, x)` ржХрж░рждрзЗ ржкрж╛рж░ржмрзЗ ржирж╛, ржХрж╛рж░ржг size ржПржЦржирзЛ 0тАФeven though capacity 100!

**рж╕ржарж┐ржХ ржкржирзНржерж╛**:
```java
list.add(x); // рж╕рж╛ржЗржЬ ржмрж╛рзЬрзЗ
list.set(0, x); // ржПржЦржи replace ржХрж░рж╛ ржпрж╛ржмрзЗ
```
